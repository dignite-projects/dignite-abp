<abp-page [title]="_eCmsKitRouteName.Comments| abpLocalization">
    <div class="">
        <div class="card ">
            <div class="card-body px-2 py-sm-2 border-bottom">
                <div class="row align-items-end">
                    <div class="col-12 col-sm-4 col-md-4  mb-3">
                        <label class="form-label">{{'CmsKit::StartDate' | abpLocalization}}</label>
                        <input type="date" class="form-control" [(ngModel)]="filters.creationStartDate"
                            (change)="setDatetype($event,'minDate')" />
                    </div>
                    <div class="col-12 col-sm-4 col-md-4  mb-3">
                        <label class="form-label">{{'CmsKit::EndDate' | abpLocalization}}</label>
                        <input type="date" class="form-control" [(ngModel)]="filters.creationEndDate"
                            (change)="setDatetype($event,'maxDate')" />
                    </div>
                    <div class="col-12 col-sm-4 col-md-4  mb-3">
                        <label class="form-label">{{'CmsKit::Username' | abpLocalization}}</label>
                        <input type="text" class="form-control" [(ngModel)]="filters.author" />
                    </div>
                    <div class="col-12 col-sm-4 col-md-4  mb-3">
                        <label class="form-label">{{'CmsKit::EntityType' | abpLocalization}}</label>
                        <input type="text" class="form-control" [(ngModel)]="filters.entityType" />
                    </div>
                    <div class="col-12 col-sm-auto  align-self-end mb-3">
                        <div class="row">
                            <!-- <div class="col-6 col-sm-auto d-grid">
                                <button class="btn btn-outline-primary " type="button" (click)="clearAll()">
                                    {{'AbpUi::Clear' | abpLocalization}}
                                </button>
                            </div> -->
                            <div class="col-6 col-sm-auto d-grid">
                                <button class="btn btn-primary " type="button" (click)="getList()">
                                    <i class="fa fa-search"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- <abp-extensible-table [data]="data?.items" [recordsTotal]="data?.totalCount" [list]="list"></abp-extensible-table> -->
        <div class="card mb-0">
            <div class="card-body p-0">
                <ngx-datatable class="material container-height" [rows]="data.items" [list]="list"
                    [columnMode]="ColumnMode.force" [headerHeight]="50" [footerHeight]="50" rowHeight="auto"
                    [count]="data.totalCount" [virtualization]="false" [externalPaging]="true" [scrollbarH]="true">
                    <ngx-datatable-column [name]="'CmsKit::Text' | abpLocalization" prop="text" [sortable]="false"
                        [width]="300">
                        <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
                            {{value }}
                        </ng-template>
                    </ngx-datatable-column>

                    <ngx-datatable-column [name]="'CmsKit::Username' | abpLocalization" prop="author.userName"
                        [sortable]="false">
                        <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
                            {{value }}
                        </ng-template>
                    </ngx-datatable-column>
                    <ngx-datatable-column [name]="'CmsKit::EntityType' | abpLocalization" prop="entityType"
                        [sortable]="false">
                        <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
                            {{value }}
                        </ng-template>
                    </ngx-datatable-column>
                    <ngx-datatable-column [name]="'CmsKit::URL' | abpLocalization" prop="url" [sortable]="false">
                        <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
                            <a [href]="value" target="_blank" class="underline-animate"><i class="fa fa-location-arrow"></i></a>
                        </ng-template>
                    </ngx-datatable-column>

                    <ngx-datatable-column [name]="'CmsKit::CreationTime' | abpLocalization" prop="creationTime"
                        [sortable]="true" [width]="180">
                        <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
                            {{ value| shortDateTime }}
                        </ng-template>
                    </ngx-datatable-column>
                    <ngx-datatable-column [sortable]="false" [name]="'CmsKit::Actions' | abpLocalization"
                        [frozenLeft]="true" [width]="110">
                        <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
                            <div ngbDropdown container="body">
                                <button type="button" class="btn btn-primary btn-sm" ngbDropdownToggle>
                                    <i class="me-1 fa fa-cog"></i> {{'CmsKit::Actions' | abpLocalization}}
                                </button>
                                <div ngbDropdownMenu>
                                    <button ngbDropdownItem *abpPermission="'CmsKit.Comments.Update'" (click.stop)="goInfo(row)">{{'CmsKit::Detail' |
                                        abpLocalization}}</button>
                                    <button ngbDropdownItem *abpPermission="'CmsKit.Comments.Delete'" (click.stop)="deleteItem(row)">{{'AbpUi::Delete' |
                                        abpLocalization}}</button>
                                </div>
                            </div>
                        </ng-template>
                    </ngx-datatable-column>
                </ngx-datatable>
            </div>
        </div>
    </div>
</abp-page>